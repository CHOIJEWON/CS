# INDEX

`Index` RDBMS 검색 속도를 높이고자 사용하는 기술이다. <br>
TABLE의 컬럼을 색인화하여 ( Index는 DB의 메모리를 먹는다 ) 테이블을 조회할 때 <br>
`Full SCAN`이 아닌 Index 파일을 검색하여 검색속도를 빠르게 만든다

<br>

## `B+Tree`

---

SQL 서버에서는 데이터의 레코드는 내부적으로 무작위 순서로 저장이 되는데, <br>
이때 저장되는 영역을 `Heap` 이라고 지칭한다 <br>
`Heap` 에서는 인덱스가 없는 테이블을 조회하는 경우 Full Scan을 이용하여 스캔 하는데, <br>
즉 처음 레코드부터 끝 레코드까지 모두 조회하여 검색 조권과 비교하게 된다 <br>
데이터양이 많아질수록 Full Scan은 굉장히 비합리적인 선택이기 때문에 Index를 사용하게 된다 <br>
즉 `Index`는 데이터를 더 빠른 속도로 SELECT 하기 위해서 사용한다

<br>

# Why use Index ?

- WHERE 구문과 일치하는 행을 빠르게 검색하기 위해

- 특정 열을 고려 대상에서 빠르게 없애기 위해

- JOIN을 실행할 때 다른 테이블에서 열을 추출하기 위해

- 특정하게 인덱스된 컬럼을 위한 MIN() 혹은 MAX() 값을 찾기 위해

- 사용할 수 있는 키의 최 좌측 접두사(leftmost prefix)를 가지고 정렬 및 그룹화를 하기 위해

- 데이터 열을 참조하지 않는 상태로 값을 추출하기 위해서 쿼리를 최적화 하는 경우

<br>

# Why use B+Tree algorithm ?

<center>

![B+Tree](./img/B%2Btree.jpeg)
💡 RDBMS에서 사용하는 INDEX는 B-Tree 에서 파생된 B+ Tree 를 사용해서 색인화한다.

</center>

### I. B+Tree

Index에 일반적으로 사용되는 알고리즘은 B+ Tree 알고리즘이다.<br>
B+ Tree 인덱스는 컬럼의 값을 변형하지 않고(값의 앞부분만 잘라서 관리), 원래의 값을 이용해 인덱싱하는 알고리즘이다.

### II. Hash

컬럼의 값으로 해시 값을 계산해서 인덱싱하는 알고리즘으로 매우 빠른 검색을 지원한다.<br>
하지만 값을 변형해서 인덱싱하므로, 특정 문자로 시작하는 값으로 검색을 하는 등 전방 일치와 같이<br>
값의 일부만으로 검색하고자 할 때는 해시 인덱스를 사용할 수 없다. <br>
주로 메모리 기반의 데이터베이스에서 많이 사용한다.

데이터 접근에 시간 복잡도가 O(1)인 Hash Table말고 B-Tree를 사용하는 이유는 <br>
SELECT 절의 조건에 부등호 연산(>, <)이 포함될 경우 문제가 발생한다. <br>
HashTable은 동등 연산(=)에 특화되어있어 데이터베이스의 자료구조에 적합하지 않다.
